<template>
  <bgCard>
    <template v-slot:title>
      <h2 class="text-2xl sm:text-3xl font-semibold mb-10">Преподаватели</h2>
    </template>

    <template v-slot:content>
      <div class="container mx-auto">
        <div class="flex justify-center m-10 gap-6 px-4">
          <div
            v-for="teacher in teachers"
            :key="teacher.name"
            @click="openModal(teacher)"
            class="bg-[#002642] rounded-xl shadow-lg p-4 hover:shadow-2xl hover:scale-105 transition cursor-pointer"
          >
            <img
              :src="teacher.images[0]"
              class="w-full object-cover rounded-xl mb-4 h-56 sm:h-64"
            />
            <h3 class="text-lg sm:text-xl font-bold">
              {{ teacher.name }}
            </h3>
            <p class="text-sm mt-1">
              {{ teacher.bio }}
            </p>
          </div>
        </div>
      </div>
    </template>
  </bgCard>
  <Modal :show="modalOpen" @close="modalOpen = false">
    <h2 class="text-2xl font-bold mb-4">
      {{ selectedTeacher.name }}
    </h2>
    <p class="text-gray-700 dark:text-gray-300 text-sm sm:text-base">
      {{ selectedTeacher.details }}
    </p>
    <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4">
      <img
        v-for="(img, index) in selectedTeacher.images"
        :key="index"
        :src="img"
        class="w-full object-cover rounded-lg"
      />
    </div>
  </Modal>
</template>

<script setup>
import { ref } from "vue";
import KristinaImg from "@/assets/images/Kristina.jpg";

const modalOpen = ref(false);
const selectedTeacher = ref({});

function openModal(teacher) {
  selectedTeacher.value = teacher;
  modalOpen.value = true;
}

const teachers = [
  {
    name: "Аветисян Кристина Акоповна",
    bio: "Мастер классических армянских танцев с 15-летним опытом.",
    images: [KristinaImg, KristinaImg],
    details:
      "Кристина начала свой путь в танцах в возрасте 5 лет и с тех пор посвятила себя изучению и преподаванию армянских народных танцев...",
  },
];
</script>
